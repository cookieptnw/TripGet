<template>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="head-content text-center">
          <h3>{{ voucher.name }}</h3>
        </div>
      </div>
      <div class="col-md-6">
        <b-form-rating
          class="detail-rating text-center"
          id="rating-inline"
          inline
          value="4"
        ></b-form-rating>
      </div>
    </div>

    <div class="hotel-detail-content">
      <div class="row">
        <div class="adult col-md-8 detail-list">
          <b-list-group>
            <b-list-group-item
              v-for="detail in voucher.details"
              :key="detail.id"
              >‚úÖ {{ detail.description }}
              {{ detail.amount ? `x ${detail.amount}` : "" }}
            </b-list-group-item>
          </b-list-group>
        </div>
        <div class="col-md-4 detail-price">
          <h3 class="mt-5">
            ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å
            <hr />
            {{ voucher.price }} ‡∏ö‡∏≤‡∏ó
          </h3>
        </div>
      </div>
    </div>

    <hr />

    <div class="vc-box shadow mt-5">
      <div class="row">
        <div class="col-md-3">
          <img src="/images/img4.jpg" alt="" width="100%" />
        </div>
        <div class="col-md-5 mt-2">
          <p>{{ voucher.hotel.name }}</p>
          <p>üö© {{ voucher.hotel.province.name }}</p>
        </div>
        <div class="col-md-4 mt-2">
          <router-link :to="{ name: 'hotel.detail', params: { id: 1 } }"
            ><button class="btn btn-outline-primary btn-buy">
              ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
            </button></router-link
          >
          <router-link :to="{ name: 'hotel.shop', params: { id: 2 } }"
            ><button class="btn btn-outline-primary btn-buy">
              ‡∏î‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
            </button></router-link
          >
        </div>
      </div>
    </div>

    <div class="vc-box shadow mt-5">
      <div class="row">
        <div class="col-md-4 text-center mb-2">
          <h6>20</h6>
          <small class="text-muted">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</small>
        </div>
        <div class="col-md-4 text-center mb-2">
          <h6>4</h6>
          <small class="text-muted">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</small>
        </div>
        <div class="col-md-4 text-center mb-2">
          <h6>98%</h6>
          <small class="text-muted">‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö</small>
        </div>
      </div>
    </div>

    <div class="head-content text-center mt-5">
      <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ</h3>
      <hr />
      <div class="row">
        <div
          class="col-md-3 same-shop-img mb-2 d-flex"
          v-for="item in voucher.hotel.vouchers"
          :key="item.id"
        >
          <img :src="item.image_url" />
          <div class="same-shop-price">
            <h5>{{ item.name }}</h5>

            {{ item.price }} ‡∏ö‡∏≤‡∏ó
          </div>
        </div>
      </div>
      <hr />
    </div>

    <div class="vc-box shadow mt-5 mb-5">
      <div class="row">
        <div class="col-md-4 text-center mb-2">
          <router-link :to="{ name: 'hotel.chat', params: { id: id } }"
            ><button class="btn btn-primary btn-buy">
              ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
            </button></router-link
          >
        </div>
        <div class="col-md-4 text-center mb-2">
          <router-link :to="{ name: 'hotel.stock', params: { id: id } }"
            ><button class="btn btn-primary btn-buy">
              ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
            </button></router-link
          >
        </div>
        <div class="col-md-4 text-center mb-2">
          <router-link :to="{ name: 'hotel.detail', params: { id: id } }"
            ><button class="btn btn-primary btn-buy">
              ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
            </button></router-link
          >
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { mapActions, mapGetters } from "vuex";

export default {
  middleware: "auth",
  data: () => ({
    name: "Loading..",
  }),
  computed: {
    key() {
      return this.$route.params.id;
    },
    query() {
      return this.$route.query;
    },

    ...mapGetters({
      voucher: "voucher/item",
    }),
  },
  methods: {
    ...mapActions({
      fetch: "voucher/show",
    }),
  },
  async created() {
    console.log(this.query);
    await this.fetch({ id: this.key, query: this.query });
    this.name = this.voucher.name;
  },
  metaInfo() {
    return { title: this.name };
  },
};
</script>

<style>
</style>
